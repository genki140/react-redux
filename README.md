# コンセプト

ページ遷移を含めた動作全体のテストを、UI を経由せずにロジックだけで完結させたい。
ルーティングを含む全てのステートを Redux で管理することで実現する。
環境やブラウザ依存処理は DI を使用してテストを容易にする。

# フォルダ構成

## utils

色々なところから参照される便利関数群。
バックエンドやブラウザ依存処理などを記述してはいけない。
用途に応じて以下の各フォルダ内にも配置できるかも。
その場合は自分のフォルダ内の utils と、トップレベルの utils にのみアクセス可能とする。

## logics

state から参照される環境依存処理系。
テストの時にモック化するものはすべてここに記述する。(Dependency Injection で実装できるようにする？)

## state

redux でステートと action を管理。
view や react のライブラリに依存しない。

## tests

logics に対してのテストコードを記述。

## views

logics の store からデータを取得し、action を実行する。
表示に関するステートは保持できるが、それ以外のステートやロジックを実装してはいけない。

一つの操作に複数の action を実行するのはどうか。
出来れば避けたい。非同期処理もテスト用に await は出来るが、views からは await したくない。

Atomic Design をまねた階層にする。
Page 固有のコンポーネントは Pages 内のそれぞれのフォルダに実装する。

全てのコンポーネントから使用可能な小さな単位のコンポーネントは atoms に入れる
全てのコンポーネントから使用可能な少し大きなコンポーネントは molecules に入れる
atoms や molecules からは state を参照してはいけない。

hooks フォルダの扱いが難しい。state 固有の部分があるので、atoms などからアクセスを許すか。別フォルダにするか。

# ToDo

Redux Toolkit Query を活用する。

Dependency Injection でロジックの実装を試したい。

Electron でアプリ化試してみたい。
